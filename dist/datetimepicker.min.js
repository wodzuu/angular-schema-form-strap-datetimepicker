"use strict";angular.module("dateTimePicker",["mgcrea.ngStrap.timepicker","mgcrea.ngStrap.datepicker"]).directive("dateTimePicker",function(){return{restrict:"E",templateUrl:"templates/datetimepicker.html",scope:{ngModel:"=",dateFormat:"@",showTimePicker:"@",timeFormat:"@",inputClass:"@",ngDisabled:"=",ngRequired:"=",minDate:"@",dateType:"@",startWeek:"@"},require:["ngModel"],link:{pre:function(e){e.dateFormat=e.dateFormat||"yyyy-MM-dd",e.timeFormat=e.timeFormat||"HH:mm:ss","undefined"==typeof e.showTimePicker?e.showTimePicker=!0:e.showTimePicker=e.showTimePicker||"true"===e.showTimePicker,e.startOfDay=function(e){if(!e)return null;if("today"===e)return e;var r=e.replace(/"/g,"");return new Date(r).setHours(0,0,0,0)}},post:function(e,r,t,a){e.$watch("minDate",function(e){a.filter(function(e){return e.$validators.minDate}).forEach(function(e){e.$validate()})}),a.forEach(function(r){r.$options=r.$options||{},r.$options.allowInvalid=!0,r.$validators.minDate=function(r){if(!r||!e.minDate)return!0;var t="today"===e.minDate?new Date:new Date(e.minDate.replace(/"/g,"")),a=r.getTime()>=t.getTime();return a}})}}}}),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider","sfBuilderProvider",function(e,r,t,a){var n=function(r,a,n){if("string"===a.type&&("date-time"===a.format||"date"===a.format)){var i=e.stdFormObj(r,a,n);return i.key=n.path,i.type="datepicker",n.lookup[t.stringify(n.path)]=i,i}};e.defaults.string.unshift(n),r.defineAddOn("bootstrapDecorator","datepicker","templates/form-datepicker.html",a.stdBuilders)}]),angular.module("dateTimePicker").run(["$templateCache",function(e){e.put("templates/datetimepicker.html",'<input \r\n	type="text"\r\n	size="10"\r\n	class="{{inputClass}}"\r\n	placeholder="{{dateFormat}}"\r\n	ng-required="ngRequired"\r\n	ng-model="ngModel"\r\n	ng-disabled="ngDisabled"\r\n	data-date-type="{{dateType}}"\r\n	data-min-date="{{startOfDay(minDate)}}"\r\n	data-date-format="{{dateFormat}}"\r\n	data-start-week="{{startWeek}}"\r\n	data-autoclose="1"\r\n	bs-datepicker\r\n>\r\n<input \r\n	type="text"\r\n	size="8"\r\n	class="{{inputClass}}"\r\n	placeholder="{{timeFormat}}"\r\n	ng-required="ngRequired"\r\n	ng-model="ngModel"\r\n	ng-show="{{showTimePicker}}"\r\n	ng-disabled="ngDisabled"\r\n	data-time-type="{{dateType}}"\r\n	data-time-format="{{timeFormat}}"\r\n	data-autoclose="1"\r\n	bs-timepicker\r\n>')}]),angular.module("schemaForm").run(["$templateCache",function(e){e.put("templates/form-datepicker.html",'<div class="form-group {{form.htmlClass}} datetimepicker" ng-class="{\'has-error\': hasError()}">\r\n	<label class="control-label" ng-show="showTitle()">\r\n		<i class="fa fa-calendar"></i>\r\n		{{form.title}}\r\n	</label>\r\n	<br/>\r\n	<date-time-picker\r\n		schema-validate="form"\r\n		name="{{form.key.slice(-1)[0]}}"\r\n		sf-field-model\r\n		date-format="yyyy-MM-dd"\r\n		time-format="HH:mm:ss"\r\n		show-time-picker="{{form.schema.format === \'date-time\'}}"\r\n		input-class="form-control"\r\n		class="datetimepicker"\r\n		start-week="{{options.formDefaults.startWeek || 0}}"\r\n		date-type="iso">\r\n	</date-time-picker>\r\n	<div\r\n		class="help-block"\r\n		ng-show="(hasError() && errorMessage(schemaError())) || form.description"\r\n		ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description">\r\n	</div>\r\n</div>')}]);